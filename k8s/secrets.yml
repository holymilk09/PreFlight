# IMPORTANT: This is a TEMPLATE file. Never commit actual secrets to git.
# Use kubectl create secret or a secrets management tool like:
# - Kubernetes External Secrets
# - HashiCorp Vault
# - AWS Secrets Manager
# - Google Secret Manager

apiVersion: v1
kind: Secret
metadata:
  name: preflight-secrets
  labels:
    app.kubernetes.io/name: preflight
    app.kubernetes.io/component: secrets
type: Opaque
stringData:
  # Generate with: openssl rand -hex 32
  SECRET_KEY: "REPLACE_WITH_ACTUAL_SECRET_KEY"
  API_KEY_SALT: "REPLACE_WITH_ACTUAL_SALT"

  # PostgreSQL connection string
  # Format: postgresql+asyncpg://user:password@host:port/database
  DATABASE_URL: "postgresql+asyncpg://preflight:REPLACE_PASSWORD@postgres-service:5432/preflight"

  # Redis connection string
  REDIS_URL: "redis://redis-service:6379/0"

  # Temporal connection
  TEMPORAL_HOST: "temporal-service:7233"
  TEMPORAL_NAMESPACE: "default"

---
# Database credentials (for PostgreSQL deployment)
apiVersion: v1
kind: Secret
metadata:
  name: postgres-secrets
  labels:
    app.kubernetes.io/name: preflight
    app.kubernetes.io/component: database
type: Opaque
stringData:
  POSTGRES_USER: "preflight"
  POSTGRES_PASSWORD: "REPLACE_WITH_ACTUAL_PASSWORD"
  POSTGRES_DB: "preflight"
